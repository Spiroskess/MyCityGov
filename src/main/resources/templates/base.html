<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    th:fragment="layout(title, content)">

<head>
    <meta charset="UTF-8"/>
    <title th:replace="${title}">MyCityGov</title>
</head>
<body>
<header>
    <h1>MyCityGov</h1>

    <nav>
        <a th:href="@{/}">Αρχική</a>

        <!-- CITIZEN -->
        <span sec:authorize="hasRole('CITIZEN')">
            | <a th:href="@{/citizen/requests}">Τα αιτήματά μου</a>
            | <a th:href="@{/citizen/request-new}">Νέο αίτημα</a>
        </span>

        <!-- EMPLOYEE -->
        <span sec:authorize="hasRole('EMPLOYEE')">
            | <a th:href="@{/employee/requests}">Αιτήματα υπηρεσίας</a>
        </span>

        <!-- ADMIN -->
        <span sec:authorize="hasRole('ADMIN')">
            | <a th:href="@{/admin/requests}">Όλα τα αιτήματα</a>
        </span>

        <!-- Δεξιά: login / profile / logout -->
        <span sec:authorize="isAuthenticated()">
            | <a th:href="@{/profile}">Προφίλ</a>
            | <a th:href="@{/logout}">Αποσύνδεση</a>
        </span>
        <span sec:authorize="!isAuthenticated()">
            | <a th:href="@{/login}">Σύνδεση</a>
            | <a th:href="@{/register}">Εγγραφή</a>
        </span>
    </nav>

    <hr/>
</header>

<main>
    <div th:replace="${content}"></div>
</main>

</body>
</html>
